var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,n=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&i(e,t,a[t]);if(r)for(var t of r(a))s.call(a,t)&&i(e,t,a[t]);return e},l=(e,r)=>a(e,t(r));import{_ as p,a as u,E as m,A as d}from"./useTableColumns-CBjkK4nZ.js";import{d as c,a as v,y as f,e as j,f as y,z as x,C as b,u as g,H as h,I as _,J as C,l as P,n as w,a8 as O,aP as A,O as E}from"./index-Bt2F3fsx.js";import{u as T,E as k}from"./useTable-BMfBqFQp.js";import{A as z}from"./formData-roEEsqCx.js";import{_ as D}from"./upload-dialog.vue_vue_type_script_setup_true_lang-CwSB9B72.js";import{E as S}from"./index-B2c65Y4B.js";import{E as I}from"./index-BmjwfTQ1.js";import{a as B}from"./index-BP3apele.js";import{_ as F}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DKTFZ-Eh.js";import"./index-Bg32yf_K.js";import"./aria-DZx3bhbH.js";import"./index-DKc9HdpN.js";import"./index-CSaJqGkQ.js";import"./index-BaMjeaFB.js";import"./_baseClone-DwHx1_gd.js";import"./isArrayLikeObject-C5sk-fBD.js";import"./castArray-DaEAnbfi.js";import"./index-BRyj0R8Q.js";import"./index-B1zM4rP2.js";import"./index-CubyMTZl.js";import"./index-V01GqruJ.js";import"./refs-D0ZxbSzV.js";import"./vnode-D7OjJs6e.js";import"./avatar6-6Evj8BB9.js";import"./avatar10-Dom60BwY.js";import"./cloneDeep-4Ubnn_UQ.js";import"./index-3ycmufMx.js";import"./index-yYjo3Bby.js";import"./use-dialog-C_JhW6YK.js";import"./token-DWNpOE8r.js";import"./validator-DwGrSO6l.js";const R={class:"user-page art-full-height"},U=F(c(l(n({},{name:"Algorithm"}),{__name:"index",setup(e){const a=v("add"),t=v(!1),r=v({}),o=v([]),s=v({userName:void 0,userGender:void 0,userPhone:void 0,userEmail:void 0,status:"1"}),i={1:{type:"success",text:"在线"},2:{type:"info",text:"离线"}},c={1:{type:"success",text:"是"},2:{type:"info",text:"否"}},{columns:F,columnChecks:U,data:G,loading:H,pagination:N,handleSizeChange:J,handleCurrentChange:L,refreshData:Q}=T({core:{apiFn:A,apiParams:n({current:1,size:20},s.value),excludeParams:[],columnsFactory:()=>[{type:"index",width:60,label:"序号"},{prop:"userName",label:"用户名",width:280},{prop:"userEmail",label:"邮箱"},{prop:"userSuperAdmin",label:"超级管理员",sortable:!0,formatter:e=>{const a=(t=e.status,c[t]||{type:"info",text:"未知"});var t;return O(I,{type:a.type},()=>a.text)}},{prop:"status",label:"状态",formatter:e=>{const a=(t=e.status,i[t]||{type:"info",text:"未知"});var t;return O(I,{type:a.type},()=>a.text)}},{prop:"createTime",label:"加入时间",sortable:!0},{prop:"createTime",label:"上次登录时间",sortable:!0},{prop:"operation",label:"操作",width:200,fixed:"right",formatter:e=>O("div",[O(d,{type:"view",onClick:()=>W(e)}),O(d,{type:"edit",onClick:()=>V("edit",e)}),O(d,{type:"more",onClick:()=>V("edit",e)})])}]},transform:{dataTransformer:e=>Array.isArray(e)?e.map((e,a)=>l(n({},e),{avatar:z[a%z.length].avatar})):[]}}),V=(e,o)=>{a.value=e,r.value=o||{},w(()=>{t.value=!0})},W=e=>{B.confirm("确定要注销该用户吗？","注销用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(()=>{E.success("注销成功")})},X=()=>{return e=null,a=null,o=function*(){try{t.value=!1,r.value={}}catch(e){}},new Promise((t,r)=>{var s=e=>{try{n(o.next(e))}catch(a){r(a)}},i=e=>{try{n(o.throw(e))}catch(a){r(a)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,i);n((o=o.apply(e,a)).next())});var e,a,o},Y=e=>{o.value=e};return(e,o)=>{const s=S,i=k,n=p,l=u,d=m,c=f("ripple");return y(),j("div",R,[x(d,{class:"art-table-card",shadow:"never"},{default:b(()=>[x(n,{columns:g(U),"onUpdate:columns":o[1]||(o[1]=e=>h(U)?U.value=e:null),loading:g(H),onRefresh:g(Q)},{left:b(()=>[x(i,{wrap:""},{default:b(()=>[_((y(),C(s,{onClick:o[0]||(o[0]=e=>V("add"))},{default:b(()=>[...o[3]||(o[3]=[P("算法导入",-1)])]),_:1})),[[c]])]),_:1})]),_:1},8,["columns","loading","onRefresh"]),x(l,{loading:g(H),data:g(G),columns:g(F),pagination:g(N),onSelectionChange:Y,"onPagination:sizeChange":g(J),"onPagination:currentChange":g(L)},null,8,["loading","data","columns","pagination","onPagination:sizeChange","onPagination:currentChange"]),x(D,{visible:g(t),"onUpdate:visible":o[2]||(o[2]=e=>h(t)?t.value=e:null),type:g(a),"user-data":g(r),onSubmit:X},null,8,["visible","type","user-data"])]),_:1})])}}})),[["__scopeId","data-v-7eedec65"]]);export{U as default};
