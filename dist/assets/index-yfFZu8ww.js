var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,i=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&s(e,a,t[a]);if(o)for(var a of o(t))l.call(t,a)&&s(e,a,t[a]);return e},r=(e,o)=>t(e,a(o)),u=(e,t,a)=>new Promise((o,n)=>{var l=e=>{try{i(a.next(e))}catch(t){n(t)}},s=e=>{try{i(a.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,s);i((a=a.apply(e,t)).next())});import{bs as d,b8 as p,a9 as c,a0 as f,ai as v,ak as m,ad as y,aS as b,bz as h,c as g,cy as x,a7 as w,ay as C,a as S,a5 as k,u as E,bJ as z,aU as I,n as P,d as F,c7 as j,c4 as B,V as O,cE as $,cF as N,cG as V,ag as _,al as M,o as R,an as T,e as A,f as H,k as L,F as W,h as U,i as K,j as D,J,C as G,at as Y,aa as Z,W as q,aB as Q,aV as X,m as ee,g as te,af as ae,_ as oe,ao as ne}from"./index-yFpGTzsr.js";import{u as le}from"./index-6xX-7Dk4.js";import{U as se,c as ie,d as re,I as ue,C as de}from"./aria-DZx3bhbH.js";import{c as pe,u as ce,d as fe,e as ve}from"./index-fdAg_98Y.js";let me;const ye={height:"0",visibility:"hidden",overflow:d&&/firefox/i.test(window.navigator.userAgent)?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},be=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function he(e,t=1,a){var o,n;me||(me=document.createElement("textarea"),(null!=(o=e.parentNode)?o:document.body).appendChild(me));const{paddingSize:l,borderSize:s,boxSizing:i,contextStyle:r}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:be.map(e=>[e,t.getPropertyValue(e)]),paddingSize:o,borderSize:n,boxSizing:a}}(e);r.forEach(([e,t])=>null==me?void 0:me.style.setProperty(e,t)),Object.entries(ye).forEach(([e,t])=>null==me?void 0:me.style.setProperty(e,t,"important")),me.value=e.value||e.placeholder||"";let u=me.scrollHeight;const d={};"border-box"===i?u+=s:"content-box"===i&&(u-=l),me.value="";const c=me.scrollHeight-l;if(p(t)){let e=c*t;"border-box"===i&&(e=e+l+s),u=Math.max(e,u),d.minHeight=`${e}px`}if(p(a)){let e=c*a;"border-box"===i&&(e=e+l+s),u=Math.min(e,u)}return d.height=`${u}px`,null==(n=me.parentNode)||n.removeChild(me),me=void 0,d}const ge=f(r(i({id:{type:String,default:void 0},size:h,disabled:Boolean,modelValue:{type:v([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:v([Boolean,Object]),default:!1},autocomplete:{type:v(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:y,default:b},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:y},prefixIcon:{type:y},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:v([Object,Array,String]),default:()=>m({})},autofocus:Boolean,rows:{type:Number,default:2}},le(["ariaLabel"])),{inputmode:{type:v(String),default:void 0},name:String})),xe={[se]:e=>c(e),input:e=>c(e),change:e=>c(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},we=["class","style"],Ce=/^on[A-Z]/,Se=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=g(()=>((null==a?void 0:a.value)||[]).concat(we)),n=w();return g(n?()=>{var e;return x(Object.entries(null==(e=n.proxy)?void 0:e.$attrs).filter(([e])=>!(o.value.includes(e)||t&&Ce.test(e))))}:()=>({}))};function ke(e,{disabled:t,beforeFocus:a,afterFocus:o,beforeBlur:n,afterBlur:l}={}){const s=w(),{emit:i}=s,r=C(),u=S(!1),d=e=>{const n=!!I(a)&&a(e);E(t)||u.value||n||(u.value=!0,i("focus",e),null==o||o())},p=e=>{var a;const o=!!I(n)&&n(e);E(t)||e.relatedTarget&&(null==(a=r.value)?void 0:a.contains(e.relatedTarget))||o||(u.value=!1,i("blur",e),null==l||l())};return k([r,()=>E(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),z(r,"focus",d,!0),z(r,"blur",p,!0),z(r,"click",a=>{var o,n;E(t)||ie(a.target)||(null==(o=r.value)?void 0:o.contains(document.activeElement))&&r.value!==document.activeElement||null==(n=e.value)||n.focus()},!0),{isFocused:u,wrapperRef:r,handleFocus:d,handleBlur:p}}function Ee({afterComposition:e,emit:t}){const a=S(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,P(()=>e(o)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}const ze=F({name:"ElInput",inheritAttrs:!1});const Ie=ne(oe(F(r(i({},ze),{props:ge,emits:xe,setup(e,{expose:t,emit:a}){const o=e,n=j(),l=Se(),s=B(),r=g(()=>["textarea"===o.type?h.b():b.b(),b.m(m.value),b.is("disabled",y.value),b.is("exceed",Oe.value),{[b.b("group")]:s.prepend||s.append,[b.m("prefix")]:s.prefix||o.prefixIcon,[b.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:Pe.value&&Fe.value,[b.b("hidden")]:"hidden"===o.type},n.class]),p=g(()=>[b.e("wrapper"),b.is("focus",ie.value)]),{form:c,formItem:f}=fe(),{inputId:v}=ve(o,{formItemContext:f}),m=pe(),y=ce(),b=O("input"),h=O("textarea"),x=C(),w=C(),z=S(!1),I=S(!1),F=S(),oe=C(o.inputStyle),ne=g(()=>x.value||w.value),{wrapperRef:le,isFocused:ie,handleFocus:me,handleBlur:ye}=ke(ne,{disabled:y,afterBlur(){var e;o.validateEvent&&(null==(e=null==f?void 0:f.validate)||e.call(f,"blur").catch(e=>re()))}}),be=g(()=>{var e;return null!=(e=null==c?void 0:c.statusIcon)&&e}),ge=g(()=>(null==f?void 0:f.validateState)||""),xe=g(()=>ge.value&&$[ge.value]),we=g(()=>I.value?N:V),Ce=g(()=>[n.style]),ze=g(()=>[o.inputStyle,oe.value,{resize:o.resize}]),Ie=g(()=>_(o.modelValue)?"":String(o.modelValue)),Pe=g(()=>o.clearable&&!y.value&&!o.readonly&&!!Ie.value&&(ie.value||z.value)),Fe=g(()=>o.showPassword&&!y.value&&!!Ie.value),je=g(()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!y.value&&!o.readonly&&!o.showPassword),Be=g(()=>Ie.value.length),Oe=g(()=>!!je.value&&Be.value>Number(o.maxlength)),$e=g(()=>!!s.suffix||!!o.suffixIcon||Pe.value||o.showPassword||je.value||!!ge.value&&be.value),[Ne,Ve]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),s=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:s}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let s=a.length;if(a.endsWith(n))s=a.length-n.length;else if(a.startsWith(o))s=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(x);M(w,e=>{if(Me(),!je.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;F.value={right:`calc(100% - ${a+15+6}px)`}});const _e=()=>{const{type:e,autosize:t}=o;if(d&&"textarea"===e&&w.value)if(t){const e=ae(t)?t.minRows:void 0,a=ae(t)?t.maxRows:void 0,o=he(w.value,e,a);oe.value=i({overflowY:"hidden"},o),P(()=>{w.value.offsetHeight,oe.value=o})}else oe.value={minHeight:he(w.value).minHeight}},Me=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=w.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(_e),Re=()=>{const e=ne.value,t=o.formatter?o.formatter(Ie.value):Ie.value;e&&e.value!==t&&(e.value=t)},Te=e=>u(null,null,function*(){Ne();let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),He.value||(t!==Ie.value?(a(se,t),a(ue,t),yield P(),Re(),Ve()):Re())}),Ae=e=>{let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),a(de,t)},{isComposing:He,handleCompositionStart:Le,handleCompositionUpdate:We,handleCompositionEnd:Ue}=Ee({emit:a,afterComposition:Te}),Ke=()=>{Ne(),I.value=!I.value,setTimeout(Ve)},De=e=>{z.value=!1,a("mouseleave",e)},Je=e=>{z.value=!0,a("mouseenter",e)},Ge=e=>{a("keydown",e)},Ye=()=>{a(se,""),a(de,""),a("clear"),a(ue,"")};return k(()=>o.modelValue,()=>{var e;P(()=>_e()),o.validateEvent&&(null==(e=null==f?void 0:f.validate)||e.call(f,"change").catch(e=>re()))}),k(Ie,()=>Re()),k(()=>o.type,()=>u(null,null,function*(){yield P(),Re(),_e()})),R(()=>{!o.formatter&&o.parser,Re(),P(_e)}),t({input:x,textarea:w,ref:ne,textareaStyle:ze,autosize:T(o,"autosize"),isComposing:He,focus:()=>{var e;return null==(e=ne.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=ne.value)?void 0:e.blur()},select:()=>{var e;null==(e=ne.value)||e.select()},clear:Ye,resizeTextarea:_e}),(e,t)=>(H(),A("div",{class:K([E(r),{[E(b).bm("group","append")]:e.$slots.append,[E(b).bm("group","prepend")]:e.$slots.prepend}]),style:te(E(Ce)),onMouseenter:Je,onMouseleave:De},[L(" input "),"textarea"!==e.type?(H(),A(W,{key:0},[L(" prepend slot "),e.$slots.prepend?(H(),A("div",{key:0,class:K(E(b).be("group","prepend"))},[D(e.$slots,"prepend")],2)):L("v-if",!0),U("div",{ref_key:"wrapperRef",ref:le,class:K(E(p))},[L(" prefix slot "),e.$slots.prefix||e.prefixIcon?(H(),A("span",{key:0,class:K(E(b).e("prefix"))},[U("span",{class:K(E(b).e("prefix-inner"))},[D(e.$slots,"prefix"),e.prefixIcon?(H(),J(E(Z),{key:0,class:K(E(b).e("icon"))},{default:G(()=>[(H(),J(Y(e.prefixIcon)))]),_:1},8,["class"])):L("v-if",!0)],2)],2)):L("v-if",!0),U("input",q({id:E(v),ref_key:"input",ref:x,class:E(b).e("inner")},E(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?I.value?"text":"password":e.type,disabled:E(y),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:E(Le),onCompositionupdate:E(We),onCompositionend:E(Ue),onInput:Te,onChange:Ae,onKeydown:Ge}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),L(" suffix slot "),E($e)?(H(),A("span",{key:1,class:K(E(b).e("suffix"))},[U("span",{class:K(E(b).e("suffix-inner"))},[E(Pe)&&E(Fe)&&E(je)?L("v-if",!0):(H(),A(W,{key:0},[D(e.$slots,"suffix"),e.suffixIcon?(H(),J(E(Z),{key:0,class:K(E(b).e("icon"))},{default:G(()=>[(H(),J(Y(e.suffixIcon)))]),_:1},8,["class"])):L("v-if",!0)],64)),E(Pe)?(H(),J(E(Z),{key:1,class:K([E(b).e("icon"),E(b).e("clear")]),onMousedown:Q(E(X),["prevent"]),onClick:Ye},{default:G(()=>[(H(),J(Y(e.clearIcon)))]),_:1},8,["class","onMousedown"])):L("v-if",!0),E(Fe)?(H(),J(E(Z),{key:2,class:K([E(b).e("icon"),E(b).e("password")]),onClick:Ke},{default:G(()=>[(H(),J(Y(E(we))))]),_:1},8,["class"])):L("v-if",!0),E(je)?(H(),A("span",{key:3,class:K(E(b).e("count"))},[U("span",{class:K(E(b).e("count-inner"))},ee(E(Be))+" / "+ee(e.maxlength),3)],2)):L("v-if",!0),E(ge)&&E(xe)&&E(be)?(H(),J(E(Z),{key:4,class:K([E(b).e("icon"),E(b).e("validateIcon"),E(b).is("loading","validating"===E(ge))])},{default:G(()=>[(H(),J(Y(E(xe))))]),_:1},8,["class"])):L("v-if",!0)],2)],2)):L("v-if",!0)],2),L(" append slot "),e.$slots.append?(H(),A("div",{key:1,class:K(E(b).be("group","append"))},[D(e.$slots,"append")],2)):L("v-if",!0)],64)):(H(),A(W,{key:1},[L(" textarea "),U("textarea",q({id:E(v),ref_key:"textarea",ref:w,class:[E(h).e("inner"),E(b).is("focus",E(ie))]},E(l),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:E(y),readonly:e.readonly,autocomplete:e.autocomplete,style:E(ze),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:E(Le),onCompositionupdate:E(We),onCompositionend:E(Ue),onInput:Te,onFocus:E(me),onBlur:E(ye),onChange:Ae,onKeydown:Ge}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),E(je)?(H(),A("span",{key:0,style:te(F.value),class:K(E(b).e("count"))},ee(E(Be))+" / "+ee(e.maxlength),7)):L("v-if",!0)],64))],38))}})),[["__file","input.vue"]]));export{Ie as E,ke as a,Se as b,Ee as u};
