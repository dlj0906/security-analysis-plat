var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e},d=(e,t)=>a(e,s(t));import{a0 as n,dm as u,c,dn as f,a as v,a5 as p,bJ as b,b as y,bu as m,_ as h,d as g,c4 as w,V as k,aW as z,J as C,f as A,C as E,z as R,X as j,u as x,I as O,h as _,W as F,aB as L,e as P,k as $,i as B,j as I,m as S,aa as T,aE as D,g as H,ab as q,ao as W}from"./index-Bt2F3fsx.js";import{E as X}from"./index-yYjo3Bby.js";import{E as J,a as Y}from"./index-BaMjeaFB.js";import{c as M,e as N,u as U}from"./use-dialog-C_JhW6YK.js";import{b as V}from"./index-B2c65Y4B.js";const G=n(d(i({},N),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}})),K=M;function Q(e,a){const{width:s,height:t}=u(),l=c(()=>["ltr","rtl"].includes(e.direction)),o=c(()=>["ltr","ttb"].includes(e.direction)?1:-1),r=c(()=>l.value?s.value:t.value),i=c(()=>f(d.value+o.value*n.value,4,r.value)),d=v(0),n=v(0),h=v(!1),g=v(!1);let w=[],k=[];p(()=>[e.size,e.resizable],()=>{g.value=!1,d.value=0,n.value=0,C()});const z=e=>{const{pageX:a,pageY:s}=e,t=a-w[0],o=s-w[1];n.value=l.value?t:o},C=()=>{w=[],d.value=i.value,n.value=0,h.value=!1,k.forEach(e=>null==e?void 0:e()),k=[]},A=b(a,"mousedown",s=>{e.resizable&&(g.value||(d.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?l.value?s.offsetWidth:s.offsetHeight:100})(),g.value=!0),w=[s.pageX,s.pageY],h.value=!0,k.push(b(window,"mouseup",C),b(window,"mousemove",z)))});return y(()=>{A(),C()}),{size:c(()=>g.value?`${i.value}px`:m(e.size)),isResizing:h,isHorizontal:l}}const Z=g({name:"ElDrawer",inheritAttrs:!1});const ee=W(h(g(d(i({},Z),{props:G,emits:K,setup(e,{expose:a}){const s=e,t=w();V({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},c(()=>!!t.title));const l=v(),o=v(),r=v(),i=k("drawer"),{t:d}=z(),{afterEnter:n,afterLeave:u,beforeLeave:f,visible:p,rendered:b,titleId:y,bodyId:m,zIndex:h,onModalClick:g,onOpenAutoFocus:W,onCloseAutoFocus:M,onFocusoutPrevented:N,onCloseRequested:G,handleClose:K}=U(s,l),{isHorizontal:Z,size:ee,isResizing:ae}=Q(s,r);return a({handleClose:K,afterEnter:n,afterLeave:u}),(e,a)=>(A(),C(x(Y),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:E(()=>[R(j,{name:x(i).b("fade"),onAfterEnter:x(n),onAfterLeave:x(u),onBeforeLeave:x(f),persisted:""},{default:E(()=>{var a;return[O(R(x(X),{mask:e.modal,"overlay-class":[x(i).is("drawer"),null!=(a=e.modalClass)?a:""],"z-index":x(h),onClick:x(g)},{default:E(()=>[R(x(J),{loop:"",trapped:x(p),"focus-trap-el":l.value,"focus-start-el":o.value,onFocusAfterTrapped:x(W),onFocusAfterReleased:x(M),onFocusoutPrevented:x(N),onReleaseRequested:x(G)},{default:E(()=>[_("div",F({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:x(y),"aria-describedby":x(m)},e.$attrs,{class:[x(i).b(),e.direction,x(p)&&"open",x(i).is("dragging",x(ae))],style:{[x(Z)?"width":"height"]:x(ee)},role:"dialog",onClick:L(()=>{},["stop"])}),[_("span",{ref_key:"focusStartRef",ref:o,class:B(x(i).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(A(),P("header",{key:0,class:B([x(i).e("header"),e.headerClass])},[e.$slots.title?I(e.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):I(e.$slots,"header",{key:0,close:x(K),titleId:x(y),titleClass:x(i).e("title")},()=>[_("span",{id:x(y),role:"heading","aria-level":e.headerAriaLevel,class:B(x(i).e("title"))},S(e.title),11,["id","aria-level"])]),e.showClose?(A(),P("button",{key:2,"aria-label":x(d)("el.drawer.close"),class:B(x(i).e("close-btn")),type:"button",onClick:x(K)},[R(x(T),{class:B(x(i).e("close"))},{default:E(()=>[R(x(D))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),x(b)?(A(),P("div",{key:1,id:x(m),class:B([x(i).e("body"),e.bodyClass])},[I(e.$slots,"default")],10,["id"])):$("v-if",!0),e.$slots.footer?(A(),P("div",{key:2,class:B([x(i).e("footer"),e.footerClass])},[I(e.$slots,"footer")],2)):$("v-if",!0),e.resizable?(A(),P("div",{key:3,ref_key:"draggerRef",ref:r,style:H({zIndex:x(h)}),class:B(x(i).e("dragger"))},null,6)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}})),[["__file","drawer.vue"]]));export{ee as E};
