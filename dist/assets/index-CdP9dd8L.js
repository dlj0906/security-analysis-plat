var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{q as i,aJ as r,cQ as u,s as c,av as d,cR as m,a as p,c as g,a5 as y,aK as h,cS as b,A as v,d as f,e as w,f as k,z as T,u as x,H as C,C as S,h as B,j as _,g as O,m as L,p as M,cT as W,aH as j,F as E,D as H,i as R,k as V,I as K,ab as D,J as I,o as P,au as $}from"./index-yFpGTzsr.js";import{a as A}from"./index-Buke6wTe.js";import{E as N}from"./index-DQf7c2hz.js";import{_ as U}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{E as z}from"./index-CguFuplp.js";import{E as q}from"./index-2Gw3B2Q1.js";import{c as F,a as G}from"./index-CrR44_AW.js";import"./index-Bk_Orbxo.js";import"./vnode-CPRGOU3L.js";import"./aria-DZx3bhbH.js";import"./index-BtGO7k4f.js";import"./use-dialog-CMniSCyr.js";import"./index-fdAg_98Y.js";import"./validator-g76rXS0E.js";import"./index-6xX-7Dk4.js";import"./index-yfFZu8ww.js";import"./index-B0zwy6BY.js";import"./index-DO93zfDF.js";import"./token-DWNpOE8r.js";import"./castArray-CNmYmr-F.js";import"./index-DaXg2c4C.js";function J(){const e=i();return{initColorWeak:()=>{if(e.colorWeak){const e=document.getElementsByTagName("html")[0];setTimeout(()=>{e.classList.add("color-weak")},100)}},switchMenuLayouts:t=>{t!==r.LEFT&&t!==r.TOP_LEFT||e.setMenuOpen(!0),e.switchMenuLayouts(t),t===r.DUAL_MENU&&(e.switchMenuStyles(u.DESIGN),e.setMenuOpen(!0))}}}function Q(){const e=i(),t={setHtmlClass:(e,t)=>{const s=document.getElementsByTagName("html")[0];t?s.classList.add(e):s.classList.remove(e)},setRootAttribute:(e,t)=>{document.documentElement.setAttribute(e,t)},setBodyClass:(e,t)=>{const s=document.getElementsByTagName("body")[0];t?s.classList.add(e):s.classList.remove(e)}},s=(e,t)=>()=>{e(),null==t||t()},a=(e,t)=>s=>{null!=s&&(e(s),null==t||t(s))},l={workTab:s(()=>e.setWorkTab(!e.showWorkTab)),uniqueOpened:s(()=>e.setUniqueOpened()),menuButton:s(()=>e.setButton()),refreshButton:s(()=>e.setShowRefreshButton()),crumbs:s(()=>e.setCrumbs()),language:s(()=>e.setLanguage()),nprogress:s(()=>e.setNprogress()),colorWeak:s(()=>e.setColorWeak(),()=>{t.setHtmlClass("color-weak",e.colorWeak)}),watermark:s(()=>e.setWatermarkVisible(!e.watermarkVisible)),menuOpenWidth:a(t=>e.setMenuOpenWidth(t)),tabStyle:a(t=>e.setTabStyle(t)),pageTransition:a(t=>e.setPageTransition(t)),customRadius:a(t=>e.setCustomRadius(t))},n={setBoxMode:s=>{const{boxBorderMode:a}=c(e);"shadow-mode"===s&&!1===a.value||"border-mode"===s&&!0===a.value||setTimeout(()=>{t.setRootAttribute("data-box-mode",s),e.setBorderMode()},50)}};return{domOperations:t,basicHandlers:l,boxStyleHandlers:n,colorHandlers:{selectColor:t=>{e.setElementTheme(t),e.reload()}},containerHandlers:{setWidth:t=>{e.setContainerWidth(t),e.reload()}},createToggleHandler:s,createValueHandler:a}}const X={class:"setting-drawer"},Y={class:"drawer-con"},Z=U(f({__name:"SettingDrawer",props:{modelValue:{type:Boolean}},emits:["update:modelValue","open","close"],setup(e,{emit:t}){const s=e,a=t,l=g({get:()=>s.modelValue,set:e=>a("update:modelValue",e)}),n=()=>{a("open")},o=()=>{a("close")},i=()=>{l.value=!1};return(e,t)=>{const s=N;return k(),w("div",X,[T(s,{size:"300px",modelValue:x(l),"onUpdate:modelValue":t[0]||(t[0]=e=>C(l)?l.value=e:null),"lock-scroll":!0,"with-header":!1,"before-close":i,"destroy-on-close":!1,"modal-class":"setting-modal",onOpen:n,onClose:o},{default:S(()=>[B("div",Y,[_(e.$slots,"default",{},void 0,!0)])]),_:3},8,["modelValue"])])}}}),[["__scopeId","data-v-da6f6c1f"]]),ee={class:"setting-header"},te={class:"close-wrap"},se=U(f({__name:"SettingHeader",emits:["close"],setup:e=>(e,t)=>(k(),w("div",ee,[B("div",te,[B("i",{class:"iconfont-sys",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"")])]))}),[["__scopeId","data-v-343ef1c9"]]),ae=U(f({__name:"SectionTitle",props:{title:{},style:{}},setup:e=>(e,t)=>(k(),w("p",{class:"section-title",style:O(e.style)},L(e.title),5))}),[["__scopeId","data-v-20407913"]]);function le(){const{t:e}=M(),t=g(()=>[{value:"tab-default",label:e("setting.tabStyle.default")},{value:"tab-card",label:e("setting.tabStyle.card")},{value:"tab-google",label:e("setting.tabStyle.google")}]),s=g(()=>[{value:"",label:e("setting.transition.list.none")},{value:"fade",label:e("setting.transition.list.fade")},{value:"slide-left",label:e("setting.transition.list.slideLeft")},{value:"slide-bottom",label:e("setting.transition.list.slideBottom")},{value:"slide-top",label:e("setting.transition.list.slideTop")}]),o=[{value:"0",label:"0"},{value:"0.25",label:"0.25"},{value:"0.5",label:"0.5"},{value:"0.75",label:"0.75"},{value:"1",label:"1"}],i=g(()=>[{value:W.FULL,label:e("setting.container.list[0]"),icon:"&#xe694;"},{value:W.BOXED,label:e("setting.container.list[1]"),icon:"&#xe6de;"}]),r=g(()=>[{value:"border-mode",label:e("setting.box.list[0]"),type:"border-mode"},{value:"shadow-mode",label:e("setting.box.list[1]"),type:"shadow-mode"}]),u={mainColors:v.systemMainColor,themeList:v.settingThemeList,menuLayoutList:v.menuLayoutList},c=g(()=>[{key:"showWorkTab",label:e("setting.basics.list.multiTab"),type:"switch",handler:"workTab",headerBarKey:null},{key:"uniqueOpened",label:e("setting.basics.list.accordion"),type:"switch",handler:"uniqueOpened",headerBarKey:null},{key:"showMenuButton",label:e("setting.basics.list.collapseSidebar"),type:"switch",handler:"menuButton",headerBarKey:"menuButton"},{key:"showRefreshButton",label:e("setting.basics.list.reloadPage"),type:"switch",handler:"refreshButton",headerBarKey:"refreshButton"},{key:"showCrumbs",label:e("setting.basics.list.breadcrumb"),type:"switch",handler:"crumbs",mobileHide:!0,headerBarKey:"breadcrumb"},{key:"showLanguage",label:e("setting.basics.list.language"),type:"switch",handler:"language",headerBarKey:"language"},{key:"showNprogress",label:e("setting.basics.list.progressBar"),type:"switch",handler:"nprogress",headerBarKey:null},{key:"colorWeak",label:e("setting.basics.list.weakMode"),type:"switch",handler:"colorWeak",headerBarKey:null},{key:"watermarkVisible",label:e("setting.basics.list.watermark"),type:"switch",handler:"watermark",headerBarKey:null},{key:"menuOpenWidth",label:e("setting.basics.list.menuWidth"),type:"input-number",handler:"menuOpenWidth",min:180,max:320,step:10,style:{width:"120px"},controlsPosition:"right",headerBarKey:null},{key:"tabStyle",label:e("setting.basics.list.tabStyle"),type:"select",handler:"tabStyle",options:t.value,style:{width:"120px"},headerBarKey:null},{key:"pageTransition",label:e("setting.basics.list.pageTransition"),type:"select",handler:"pageTransition",options:s.value,style:{width:"120px"},headerBarKey:null},{key:"customRadius",label:e("setting.basics.list.borderRadius"),type:"select",handler:"customRadius",options:o,style:{width:"120px"},headerBarKey:null}].filter(e=>{if(null===e.headerBarKey)return!0;const t=j[e.headerBarKey];return!1!==(null==t?void 0:t.enabled)}).map(e=>{var t=e,{headerBarKey:s}=t;return((e,t)=>{var s={};for(var o in e)l.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(null!=e&&a)for(var o of a(e))t.indexOf(o)<0&&n.call(e,o)&&(s[o]=e[o]);return s})(t,["headerBarKey"])}));return{tabStyleOptions:t,pageTransitionOptions:s,customRadiusOptions:o,containerWidthOptions:i,boxStyleOptions:r,configOptions:u,basicSettingsConfig:c}}const ne={class:"setting-box-wrap"},oe=["onClick"],ie=["src"],re={class:"name"},ue=f({__name:"ThemeSettings",setup(e){const t=i(),{systemThemeMode:s}=c(t),{configOptions:a}=le(),{switchThemeStyles:l}=m();return(e,t)=>(k(),w(E,null,[T(ae,{title:e.$t("setting.theme.title")},null,8,["title"]),B("div",ne,[(k(!0),w(E,null,H(x(a).themeList,(t,a)=>(k(),w("div",{class:"setting-item",key:t.theme,onClick:e=>x(l)(t.theme)},[B("div",{class:R(["box",{"is-active":t.theme===x(s)}])},[B("img",{src:t.img},null,8,ie)],2),B("p",re,L(e.$t(`setting.theme.list[${a}]`)),1)],8,oe))),128))])],64))}}),ce={key:0},de={class:"setting-box-wrap"},me=["onClick"],pe=["src"],ge={class:"name"},ye=f({__name:"MenuLayoutSettings",setup(e){const{width:t}=A(),s=i(),{menuType:a}=c(s),{configOptions:l}=le(),{switchMenuLayouts:n}=J();return(e,s)=>x(t)>1e3?(k(),w("div",ce,[T(ae,{title:e.$t("setting.menuType.title")},null,8,["title"]),B("div",de,[(k(!0),w(E,null,H(x(l).menuLayoutList,(t,s)=>(k(),w("div",{class:"setting-item",key:t.value,onClick:e=>x(n)(t.value)},[B("div",{class:R(["box",{"is-active":t.value===x(a),"mt-16":s>2}])},[B("img",{src:t.img},null,8,pe)],2),B("p",ge,L(e.$t(`setting.menuType.list[${s}]`)),1)],8,me))),128))])])):V("",!0)}}),he={class:"setting-box-wrap"},be=["onClick"],ve=["src"],fe=f({__name:"MenuStyleSettings",setup(e){const t=v.themeList,s=i(),{menuThemeType:a,menuType:l,isDark:n}=c(s),o=g(()=>l.value===r.TOP),u=g(()=>l.value===r.DUAL_MENU),d=g(()=>o.value||u.value||n.value);return(e,l)=>(k(),w(E,null,[T(ae,{title:e.$t("setting.menu.title")},null,8,["title"]),B("div",he,[(k(!0),w(E,null,H(x(t),e=>(k(),w("div",{class:"setting-item",key:e.theme,onClick:t=>{return a=e.theme,void(u.value||o.value||n.value||s.switchMenuStyles(a));var a}},[B("div",{class:R(["box",{"is-active":e.theme===x(a)}]),style:O({cursor:x(d)?"no-drop":"pointer"})},[B("img",{src:e.img},null,8,ve)],6)],8,be))),128))])],64))}}),we={class:"color-settings"},ke={class:"main-color-wrap"},Te={class:"offset"},xe=["onClick"],Ce={class:"iconfont-sys"},Se=U(f({__name:"ColorSettings",setup(e){const t=i(),{systemThemeColor:s}=c(t),{configOptions:a}=le(),{colorHandlers:l}=Q();return(e,t)=>(k(),w("div",we,[T(ae,{title:e.$t("setting.color.title"),style:{"margin-top":"40px"}},null,8,["title"]),B("div",ke,[B("div",Te,[(k(!0),w(E,null,H(x(a).mainColors,e=>(k(),w("div",{key:e,style:O({background:`${e} !important`}),onClick:t=>x(l).selectColor(e)},[K(B("i",Ce,"",512),[[D,e===x(s)]])],12,xe))),128))])])]))}}),[["__scopeId","data-v-91dd0386"]]),Be={class:"box-style-settings"},_e={class:"box-style"},Oe=["onClick"],Le=U(f({__name:"BoxStyleSettings",setup(e){const t=i(),{boxBorderMode:s}=c(t),{boxStyleOptions:a}=le(),{boxStyleHandlers:l}=Q();return(e,t)=>(k(),w("div",Be,[T(ae,{title:e.$t("setting.box.title"),style:{marginTop:"40px"}},null,8,["title"]),B("div",_e,[(k(!0),w(E,null,H(x(a),e=>{return k(),w("div",{key:e.value,class:R(["button",{"is-active":(t=e.type,"border-mode"===t?s.value:!s.value)}]),onClick:t=>x(l).setBoxMode(e.type)},L(e.label),11,Oe);var t}),128))])]))}}),[["__scopeId","data-v-ac90b03c"]]),Me={class:"container-settings"},We={class:"container-width"},je=["onClick"],Ee=["innerHTML"],He=U(f({__name:"ContainerSettings",setup(e){const t=i(),{containerWidth:s}=c(t),{containerWidthOptions:a}=le(),{containerHandlers:l}=Q();return(e,t)=>(k(),w("div",Me,[T(ae,{title:e.$t("setting.container.title"),style:{marginTop:"50px"}},null,8,["title"]),B("div",We,[(k(!0),w(E,null,H(x(a),e=>(k(),w("div",{key:e.value,class:R(["item",{"is-active":x(s)===e.value}]),onClick:t=>x(l).setWidth(e.value)},[B("i",{class:"iconfont-sys",innerHTML:e.icon},null,8,Ee),B("span",null,L(e.label),1)],10,je))),128))])]))}}),[["__scopeId","data-v-7056cb25"]]),Re={class:"label"},Ve=U(f({__name:"SettingItem",props:{config:{},modelValue:{}},emits:["change"],setup(e,{emit:t}){const s=e,a=t,l=g(()=>{if(!s.config.options)return[];try{return"object"==typeof s.config.options&&"value"in s.config.options?s.config.options.value||[]:Array.isArray(s.config.options)?s.config.options:[]}catch(e){return[]}}),n=e=>{try{a("change",e)}catch(t){}};return(e,t)=>{const s=z,a=q,o=G,i=F;return k(),w("div",{class:R(["setting-item",{"mobile-hide":e.config.mobileHide}])},[B("span",Re,L(e.config.label),1),"switch"===e.config.type?(k(),I(s,{key:0,"model-value":e.modelValue,onChange:n},null,8,["model-value"])):"input-number"===e.config.type?(k(),I(a,{key:1,"model-value":e.modelValue,min:e.config.min,max:e.config.max,step:e.config.step,style:O(e.config.style),"controls-position":e.config.controlsPosition,onChange:n},null,8,["model-value","min","max","step","style","controls-position"])):"select"===e.config.type?(k(),I(i,{key:2,"model-value":e.modelValue,style:O(e.config.style),onChange:n},{default:S(()=>[(k(!0),w(E,null,H(x(l),e=>(k(),I(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","style"])):V("",!0)],2)}}}),[["__scopeId","data-v-d6416a6f"]]),Ke={class:"basic-settings"},De={class:"basic-box"},Ie=U(f({__name:"BasicSettings",setup(e){const t=i(),{basicSettingsConfig:s}=le(),{basicHandlers:a}=Q(),{uniqueOpened:l,showMenuButton:n,showRefreshButton:o,showCrumbs:r,showWorkTab:u,showLanguage:d,showNprogress:m,colorWeak:p,watermarkVisible:g,menuOpenWidth:y,tabStyle:h,pageTransition:b,customRadius:v}=c(t),f={uniqueOpened:l,showMenuButton:n,showRefreshButton:o,showCrumbs:r,showWorkTab:u,showLanguage:d,showNprogress:m,colorWeak:p,watermarkVisible:g,menuOpenWidth:y,tabStyle:h,pageTransition:b,customRadius:v},C=e=>{var t;const s=f[e];return null!=(t=null==s?void 0:s.value)?t:null};return(e,t)=>(k(),w("div",Ke,[T(ae,{title:e.$t("setting.basics.title"),style:{marginTop:"40px"}},null,8,["title"]),B("div",De,[(k(!0),w(E,null,H(x(s),e=>(k(),I(Ve,{key:e.key,config:e,"model-value":C(e.key),onChange:t=>((e,t)=>{const s=a[e];"function"==typeof s&&s(t)})(e.handler,t)},null,8,["config","model-value","onChange"]))),128))])]))}}),[["__scopeId","data-v-5e555d4b"]]),Pe={class:"layout-settings"},$e=f((Ae=((e,t)=>{for(var s in t||(t={}))l.call(t,s)&&o(e,s,t[s]);if(a)for(var s of a(t))n.call(t,s)&&o(e,s,t[s]);return e})({},{name:"ArtSettingsPanel"}),Ne={__name:"index",props:{open:{type:Boolean}},setup(e){const t=e,s=function(){const e=i(),{systemThemeType:t,systemThemeMode:s,menuType:a}=c(e),{openFestival:l,cleanup:n}=d(),{setSystemTheme:o,setSystemAutoTheme:u}=m(),{initColorWeak:f}=J(),{domOperations:w}=Q(),k=p(!1),{width:T}=A(),x=p(),C=p(!1),S=g(()=>e.systemThemeColor),B=()=>{const a=()=>{s.value===b.AUTO?u():o(t.value)};return{initSystemColor:()=>{v.systemMainColor.includes(S.value)||(e.setElementTheme(v.systemMainColor[0]),e.reload())},initSystemTheme:a,listenerSystemTheme:()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");return e.addEventListener("change",a),()=>{e.removeEventListener("change",a)}}}},_=()=>({handleOpen:()=>{setTimeout(()=>{w.setBodyClass("theme-change",!0)},500)},handleClose:()=>{w.setBodyClass("theme-change",!1)},openSetting:()=>{k.value=!0},closeDrawer:()=>{k.value=!1}});return{showDrawer:k,useThemeHandlers:B,useResponsiveLayout:()=>({handleWindowResize:()=>{y(T,t=>{t<1e3?C.value||(x.value=a.value,J().switchMenuLayouts(r.LEFT),e.setMenuOpen(!1),C.value=!0):C.value&&x.value&&(J().switchMenuLayouts(x.value),e.setMenuOpen(!0),C.value=!1)})}}),useDrawerControl:_,usePropsWatcher:e=>{y(()=>e.open,e=>{void 0!==e&&(k.value=e)})},useSettingsInitializer:()=>{const t=B(),{openSetting:s}=_();let a=null;return{initializeSettings:()=>{h.on("openSetting",s),t.initSystemColor(),a=t.listenerSystemTheme(),f();const n=e.boxBorderMode?"border-mode":"shadow-mode";setTimeout(()=>{w.setRootAttribute("data-box-mode",n)},50),t.initSystemTheme(),l()},cleanupSettings:()=>{null==a||a(),n()}}}}}(),{showDrawer:a}=s,{handleWindowResize:l}=s.useResponsiveLayout(),{handleOpen:n,handleClose:o,closeDrawer:u}=s.useDrawerControl(),{initializeSettings:f,cleanupSettings:B}=s.useSettingsInitializer();return s.usePropsWatcher(t),P(()=>{f(),l()}),$(()=>{B()}),(e,t)=>(k(),w("div",Pe,[T(Z,{modelValue:x(a),"onUpdate:modelValue":t[0]||(t[0]=e=>C(a)?a.value=e:null),onOpen:x(n),onClose:x(o)},{default:S(()=>[T(se,{onClose:x(u)},null,8,["onClose"]),T(ue),T(ye),T(fe),T(Se),T(Le),T(He),T(Ie)]),_:1},8,["modelValue","onOpen","onClose"])]))}},t(Ae,s(Ne))));var Ae,Ne;export{$e as default};
